import React, { useState, useEffect } from â€˜reactâ€™;
import { Check, Droplet, Dumbbell, Code, Brain, Users, Target, Moon, Sun, Zap, BarChart3, RefreshCw, Activity, Book } from â€˜lucide-reactâ€™;

const VitaApp = () => {
const [view, setView] = useState(â€˜todayâ€™);
const [data, setData] = useState(null);
const [loading, setLoading] = useState(true);
const [journal, setJournal] = useState(â€™â€™);
const [water, setWater] = useState(0);
const [saas, setSaas] = useState(â€™â€™);
const [deepWork, setDeepWork] = useState(â€™â€™);
const [talks, setTalks] = useState(â€™â€™);
const [miles, setMiles] = useState(â€™â€™);
const [weights, setWeights] = useState({});
const [workout, setWorkout] = useState(null);
const [history, setHistory] = useState([]);
const [viewingDay, setViewingDay] = useState(null);
const [saveStatus, setSaveStatus] = useState(â€™â€™);

const today = new Date().toISOString().split(â€˜Tâ€™)[0];
const rotation = [â€˜back-bicepsâ€™, â€˜legsâ€™, â€˜chest-tricepsâ€™, â€˜runningâ€™];

const exercises = {
â€˜back-bicepsâ€™: [[
â€˜Deadlifts 4x6â€™, â€˜Bent Rows 4x8â€™, â€˜Pull-ups 3x10â€™, â€˜Barbell Curls 3x12â€™, â€˜Hammer Curls 3x10â€™
], [
â€˜T-Bar Rows 4x8â€™, â€˜Lat Pulldowns 4x10â€™, â€˜Cable Rows 3x12â€™, â€˜Preacher Curls 3x12â€™, â€˜Concentration Curls 3x10â€™
]],
â€˜legsâ€™: [[
â€˜Squats 4x8â€™, â€˜Romanian Deadlifts 4x10â€™, â€˜Leg Press 3x12â€™, â€˜Lunges 3x10â€™, â€˜Calf Raises 4x15â€™
], [
â€˜Front Squats 4x8â€™, â€˜Bulgarian Splits 3x10â€™, â€˜Leg Curls 4x12â€™, â€˜Leg Extensions 3x12â€™, â€˜Seated Calf 4x15â€™
]],
â€˜chest-tricepsâ€™: [[
â€˜Bench Press 4x8â€™, â€˜Incline DB Press 4x10â€™, â€˜Dips 3x12â€™, â€˜Tricep Pushdowns 3x12â€™, â€˜Overhead Ext 3x10â€™
], [
â€˜Incline Bench 4x8â€™, â€˜Flat DB Press 4x10â€™, â€˜Cable Flyes 3x12â€™, â€˜Close Grip Bench 3x10â€™, â€˜Skull Crushers 3x12â€™
]]
};

const tasks = {
core: [
{ id: â€˜coldâ€™, t: â€˜Cold shower/exposureâ€™ },
{ id: â€˜workoutâ€™, t: â€˜Lifted/Ran (workout completed)â€™ },
{ id: â€˜sunâ€™, t: â€˜Morning sunlight 10+ minâ€™ },
{ id: â€˜sleepâ€™, t: â€˜7-8hr sleep scheduledâ€™ },
{ id: â€˜prioritiesâ€™, t: â€˜Wrote down 3 priorities for todayâ€™ },
{ id: â€˜deepâ€™, t: â€˜2-3hr deep work (phone locked away)â€™ },
{ id: â€˜progressâ€™, t: â€˜Moved the product forward (tangible progress)â€™ },
{ id: â€˜readâ€™, t: â€˜Read for 30 minutesâ€™ },
{ id: â€˜connectâ€™, t: â€˜Had real conversation with someone important (non-work)â€™ }
],
lead: [
{ id: â€˜noâ€™, t: â€˜Said no to distractionâ€™ },
{ id: â€˜talkâ€™, t: â€˜Had hard conversationâ€™ },
{ id: â€˜ownâ€™, t: â€˜Owned mistake no excusesâ€™ },
{ id: â€˜helpâ€™, t: â€˜Helped someoneâ€™ },
{ id: â€˜hardâ€™, t: â€˜Did hardest thing firstâ€™ }
],
comm: [
{ id: â€˜recâ€™, t: â€˜Recorded 60s pitchâ€™ },
{ id: â€˜pauseâ€™, t: â€˜Paused before respondingâ€™ },
{ id: â€˜shortâ€™, t: â€˜Rewrote 50% shorterâ€™ },
{ id: â€˜clearâ€™, t: â€˜Explained product clearlyâ€™ }
]
};

useEffect(() => { loadData(); }, []);

const loadData = async () => {
try {
const td = await window.storage.get(`day:${today}`);
if (td) {
const d = JSON.parse(td.value);
setData(d);
setJournal(d.journal || â€˜â€™);
setWater(d.water || 0);
setSaas(d.saas || â€˜â€™);
setDeepWork(d.deepWork || â€˜â€™);
setTalks(d.talks || â€˜â€™);
setMiles(d.miles || â€˜â€™);
setWeights(d.weights || {});
} else {
setData({ date: today, done: [], journal: â€˜â€™, water: 0, saas: â€˜â€™, deepWork: â€˜â€™, talks: â€˜â€™, miles: â€˜â€™, weights: {}, mood: null, workoutDone: false });
}

```
  const wr = await window.storage.get('workout-rotation');
  setWorkout(wr ? JSON.parse(wr.value) : { type: 'back-biceps', var: 0 });

  const res = await window.storage.list('day:');
  if (res?.keys) {
    const hist = await Promise.all(res.keys.map(async k => {
      try {
        const r = await window.storage.get(k);
        return r ? JSON.parse(r.value) : null;
      } catch { return null; }
    }));
    setHistory(hist.filter(Boolean).sort((a,b) => new Date(b.date) - new Date(a.date)));
  }
} catch (e) {
  console.error(e);
  setData({ date: today, done: [], journal: '', water: 0, saas: '', deepWork: '', talks: '', miles: '', weights: {}, mood: null, workoutDone: false });
  setWorkout({ type: 'back-biceps', var: 0 });
}
setLoading(false);
```

};

const save = async (d) => {
try {
setSaveStatus(â€˜Savingâ€¦â€™);
const storage = window.storage || {
get: async (key) => {
const val = localStorage.getItem(key);
return val ? { value: val } : null;
},
set: async (key, value) => {
localStorage.setItem(key, value);
return { key, value };
},
list: async (prefix) => {
const keys = Object.keys(localStorage).filter(k => k.startsWith(prefix));
return { keys };
}
};

```
  await storage.set(`day:${today}`, JSON.stringify(d));
  console.log('Saved data:', d);
  setSaveStatus('Saved âœ“');
  setTimeout(() => setSaveStatus(''), 2000);
  
  const res = await storage.list('day:');
  if (res?.keys) {
    const hist = await Promise.all(res.keys.map(async k => {
      try {
        const r = await window.storage.get(k);
        return r ? JSON.parse(r.value) : null;
      } catch { return null; }
    }));
    setHistory(hist.filter(Boolean).sort((a,b) => new Date(b.date) - new Date(a.date)));
  }
} catch (e) { console.error(e); }
```

};

const toggle = (id) => {
const done = data.done.includes(id) ? data.done.filter(x => x !== id) : [â€¦data.done, id];
const nd = { â€¦data, done };
setData(nd);
save(nd);
};

const updateWater = (n) => {
const nw = Math.max(0, water + n);
setWater(nw);
const nd = { â€¦data, water: nw };
setData(nd);
save(nd);
};

const completeWorkout = async () => {
const storage = window.storage || {
set: async (key, value) => {
localStorage.setItem(key, value);
return { key, value };
}
};

```
const nd = { ...data, workoutType: workout.type, workoutDone: true, miles: workout.type === 'running' ? miles : undefined, weights: workout.type !== 'running' ? weights : undefined };
setData(nd);
await save(nd);
const idx = rotation.indexOf(workout.type);
const next = { type: rotation[(idx + 1) % 4], var: 0 };
setWorkout(next);
setWeights({});
await storage.set('workout-rotation', JSON.stringify(next));
```

};

const genNew = () => {
if (workout.type === â€˜runningâ€™) return;
const vars = exercises[workout.type];
setWorkout({ â€¦workout, var: (workout.var + 1) % vars.length });
};

const labels = { â€˜back-bicepsâ€™: â€˜Back & Bicepsâ€™, â€˜legsâ€™: â€˜Legsâ€™, â€˜chest-tricepsâ€™: â€˜Chest & Tricepsâ€™, â€˜runningâ€™: â€˜Runningâ€™ };

if (loading) return <div className="flex items-center justify-center h-screen bg-gradient-to-br from-slate-900 to-slate-800"><div className="text-xl text-gray-300">Loadingâ€¦</div></div>;

if (viewingDay) {
return (
<div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4">
<div className="max-w-4xl mx-auto">
<div className="flex items-center justify-between mb-6">
<h1 className="text-3xl font-bold text-white">{new Date(viewingDay.date).toLocaleDateString(â€˜en-USâ€™, { weekday: â€˜longâ€™, month: â€˜longâ€™, day: â€˜numericâ€™, year: â€˜numericâ€™ })}</h1>
<button onClick={() => setViewingDay(null)} className=â€œpx-4 py-2 bg-slate-700 text-white rounded-lgâ€>Back</button>
</div>

```
      <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
        <h3 className="text-white font-semibold mb-2">Mood</h3>
        <p className="text-gray-300">{viewingDay.mood || 'Not logged'}</p>
      </div>

      <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
        <h3 className="text-white font-semibold mb-2">Water Intake</h3>
        <p className="text-blue-400 text-lg">{viewingDay.water || 0} glasses</p>
      </div>

      {viewingDay.workoutDone && (
        <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
          <h3 className="text-white font-semibold mb-2">Workout</h3>
          <p className="text-amber-400">{labels[viewingDay.workoutType]}</p>
          {viewingDay.miles && <p className="text-gray-300 mt-1">{viewingDay.miles} miles</p>}
          {viewingDay.weights && Object.keys(viewingDay.weights).length > 0 && (
            <div className="mt-2 space-y-1">
              {Object.entries(viewingDay.weights).map(([ex, wt]) => (
                <p key={ex} className="text-sm text-gray-300">{ex}: {wt} lbs</p>
              ))}
            </div>
          )}
        </div>
      )}

      {viewingDay.saas && (
        <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
          <h3 className="text-white font-semibold mb-2">SaaS Work</h3>
          <p className="text-gray-300 whitespace-pre-wrap">{viewingDay.saas}</p>
          {viewingDay.deepWork && <p className="text-sm text-gray-400 mt-2">Deep work: {viewingDay.deepWork} hrs</p>}
          {viewingDay.talks && <p className="text-sm text-gray-400">User conversations: {viewingDay.talks}</p>}
        </div>
      )}

      <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
        <h3 className="text-white font-semibold mb-3">Tasks Completed ({viewingDay.done.length}/18)</h3>
        <div className="space-y-2">
          <div>
            <p className="text-sm text-gray-400 mb-1">Non-Negotiables:</p>
            {tasks.core.filter(t => viewingDay.done.includes(t.id)).map(t => (
              <p key={t.id} className="text-green-400 text-sm">âœ“ {t.t}</p>
            ))}
          </div>
          <div>
            <p className="text-sm text-gray-400 mb-1">Leadership:</p>
            {tasks.lead.filter(t => viewingDay.done.includes(t.id)).map(t => (
              <p key={t.id} className="text-amber-400 text-sm">âœ“ {t.t}</p>
            ))}
          </div>
          <div>
            <p className="text-sm text-gray-400 mb-1">Communication:</p>
            {tasks.comm.filter(t => viewingDay.done.includes(t.id)).map(t => (
              <p key={t.id} className="text-purple-400 text-sm">âœ“ {t.t}</p>
            ))}
          </div>
        </div>
      </div>

      {viewingDay.journal && (
        <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
          <h3 className="text-white font-semibold mb-2">Reflection</h3>
          <p className="text-gray-300 whitespace-pre-wrap">{viewingDay.journal}</p>
        </div>
      )}
    </div>
  </div>
);
```

}

if (view === â€˜workoutsâ€™) {
const ex = workout.type === â€˜runningâ€™ ? null : exercises[workout.type][workout.var];
return (
<div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4">
<div className="max-w-4xl mx-auto">
<h1 className="text-4xl font-bold text-white mb-4 text-center">Vita</h1>
<div className="flex gap-2 justify-center mb-6">
<button onClick={() => setView(â€˜todayâ€™)} className=â€œpx-6 py-2 bg-slate-700 text-gray-300 rounded-lgâ€>Today</button>
<button onClick={() => setView(â€˜progressâ€™)} className=â€œpx-6 py-2 bg-slate-700 text-gray-300 rounded-lgâ€>Progress</button>
<button onClick={() => setView(â€˜workoutsâ€™)} className=â€œpx-6 py-2 bg-amber-600 text-white rounded-lgâ€>Workouts</button>
</div>

```
      <div className="bg-slate-800 rounded-xl p-6 border border-slate-700 mb-6">
        <div className="flex justify-between items-center mb-4">
          <div>
            <h2 className="text-2xl font-bold text-white">Today: {labels[workout.type]}</h2>
            <p className="text-sm text-gray-400">Next: {labels[rotation[(rotation.indexOf(workout.type) + 1) % 4]]}</p>
          </div>
          {workout.type !== 'running' && <button onClick={genNew} className="px-4 py-2 bg-slate-700 text-white rounded-lg flex items-center gap-2"><RefreshCw className="w-4 h-4"/>New</button>}
        </div>

        {workout.type === 'running' ? (
          <div className="space-y-4">
            <div className="bg-slate-700 rounded-lg p-4">
              <label className="block text-sm text-gray-300 mb-2">Miles Run</label>
              <input type="number" step="0.1" value={miles} onChange={(e) => setMiles(e.target.value)} placeholder="5.0" className="w-full p-3 bg-slate-600 rounded-lg text-white" />
            </div>
            <button onClick={completeWorkout} disabled={!miles || data.workoutDone} className="w-full py-3 bg-green-600 text-white rounded-lg font-semibold disabled:bg-slate-600">{data.workoutDone ? 'âœ“ Done' : 'Complete'}</button>
          </div>
        ) : (
          <div className="space-y-3">
            {ex.map((e, i) => (
              <div key={i} className="bg-slate-700 rounded-lg p-4">
                <div className="flex justify-between items-center mb-2">
                  <div className="text-white font-medium">{e}</div>
                  <Dumbbell className="w-5 h-5 text-amber-400" />
                </div>
                <input
                  type="number"
                  placeholder="Weight (lbs)"
                  value={weights[e] || ''}
                  onChange={(ev) => setWeights({...weights, [e]: ev.target.value})}
                  className="w-full p-2 bg-slate-600 rounded text-white text-sm"
                />
              </div>
            ))}
            <button onClick={completeWorkout} disabled={data.workoutDone} className="w-full py-3 bg-green-600 text-white rounded-lg font-semibold disabled:bg-slate-600">{data.workoutDone ? 'âœ“ Done' : 'Complete'}</button>
          </div>
        )}
      </div>

      <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
        <h2 className="text-xl font-bold text-white mb-4">Recent</h2>
        {history.filter(d => d.workoutDone).slice(0, 5).map(d => (
          <div key={d.date} className="bg-slate-700 rounded-lg p-4 mb-2 flex justify-between items-center">
            <div>
              <p className="text-white font-medium">{labels[d.workoutType]}</p>
              <p className="text-sm text-gray-400">{new Date(d.date).toLocaleDateString()}</p>
              {d.weights && Object.keys(d.weights).length > 0 && (
                <p className="text-xs text-gray-500 mt-1">Weights logged</p>
              )}
            </div>
            {d.miles && <span className="text-amber-400">{d.miles} mi</span>}
          </div>
        ))}
        {history.filter(d => d.workoutDone).length === 0 && <p className="text-gray-400 text-center py-4">No workouts yet</p>}
      </div>
    </div>
  </div>
);
```

}

if (view === â€˜progressâ€™) {
const rate = history.length > 0 ? Math.round((history.reduce((s, d) => s + d.done.length, 0) / (history.length * 18)) * 100) : 0;
return (
<div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4">
<div className="max-w-4xl mx-auto">
<h1 className="text-4xl font-bold text-white mb-4 text-center">Vita</h1>
<div className="flex gap-2 justify-center mb-6">
<button onClick={() => setView(â€˜todayâ€™)} className=â€œpx-6 py-2 bg-slate-700 text-gray-300 rounded-lgâ€>Today</button>
<button onClick={() => setView(â€˜progressâ€™)} className=â€œpx-6 py-2 bg-amber-600 text-white rounded-lgâ€>Progress</button>
<button onClick={() => setView(â€˜workoutsâ€™)} className=â€œpx-6 py-2 bg-slate-700 text-gray-300 rounded-lgâ€>Workouts</button>
</div>

```
      <div className="grid grid-cols-2 gap-4 mb-6">
        <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
          <p className="text-sm text-gray-300 mb-2">Completion</p>
          <p className="text-4xl font-bold text-white">{rate}%</p>
        </div>
        <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
          <p className="text-sm text-gray-300 mb-2">Days</p>
          <p className="text-4xl font-bold text-white">{history.length}</p>
        </div>
      </div>

      <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
        <h2 className="text-xl font-bold text-white mb-4">Last 7 Days</h2>
        {history.slice(0, 7).map(d => {
          const pct = Math.round((d.done.length / 18) * 100);
          return (
            <div key={d.date} className="bg-slate-700 rounded-lg p-4 mb-3 cursor-pointer hover:bg-slate-600" onClick={() => setViewingDay(d)}>
              <div className="flex justify-between mb-2">
                <span className="text-gray-300">{new Date(d.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>
                <span className="text-amber-400">{pct}%</span>
              </div>
              <div className="w-full bg-slate-600 rounded-full h-2">
                <div className="bg-amber-500 h-2 rounded-full" style={{ width: `${pct}%` }} />
              </div>
            </div>
          );
        })}
        {history.length === 0 && <p className="text-gray-400 text-center py-4">Start tracking</p>}
      </div>
    </div>
  </div>
);
```

}

const total = 18;
const done = data.done.length;

return (
<div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4">
<div className="max-w-4xl mx-auto">
<h1 className="text-4xl font-bold text-white mb-2 text-center">Vita</h1>
<p className="text-sm text-gray-400 text-center mb-4">{new Date().toLocaleDateString(â€˜en-USâ€™, { weekday: â€˜longâ€™, month: â€˜longâ€™, day: â€˜numericâ€™ })}</p>
<div className="flex gap-2 justify-center mb-6">
<button onClick={() => setView(â€˜todayâ€™)} className=â€œpx-6 py-2 bg-amber-600 text-white rounded-lgâ€>Today</button>
<button onClick={() => setView(â€˜progressâ€™)} className=â€œpx-6 py-2 bg-slate-700 text-gray-300 rounded-lgâ€>Progress</button>
<button onClick={() => setView(â€˜workoutsâ€™)} className=â€œpx-6 py-2 bg-slate-700 text-gray-300 rounded-lgâ€>Workouts</button>
</div>

```
    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <div className="flex justify-between mb-3">
        <span className="text-white">Progress</span>
        <span className="text-2xl font-bold text-amber-400">{done}/{total}</span>
      </div>
      <div className="w-full bg-slate-700 rounded-full h-3">
        <div className="bg-amber-500 h-3 rounded-full" style={{ width: `${(done/total)*100}%` }} />
      </div>
    </div>

    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h3 className="text-white mb-3">Mood</h3>
      <div className="flex gap-2 flex-wrap">
        {['ðŸ˜Š Sharp', 'ðŸ™‚ Good', 'ðŸ˜ Okay', 'ðŸ˜” Off', 'ðŸ˜° Hard'].map(m => (
          <button key={m} onClick={() => { const nd = { ...data, mood: m }; setData(nd); save(nd); }} className={`px-4 py-2 rounded-lg ${data.mood === m ? 'bg-amber-500 text-white' : 'bg-slate-700 text-gray-300'}`}>{m}</button>
        ))}
      </div>
    </div>

    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <div className="flex justify-between items-center mb-3">
        <div className="flex items-center gap-2"><Droplet className="w-5 h-5 text-blue-400"/><span className="text-white">Water Intake</span></div>
        <span className="text-xl font-bold text-blue-400">{water} glasses</span>
      </div>
      <div className="flex gap-2">
        <button onClick={() => updateWater(-1)} className="px-6 py-2 bg-slate-700 text-white rounded-lg font-bold">-</button>
        <button onClick={() => updateWater(1)} className="flex-1 py-2 bg-blue-600 text-white rounded-lg font-bold">+ Glass</button>
      </div>
      <p className="text-xs text-gray-400 mt-2">Target: 8 glasses per day (64oz)</p>
    </div>

    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <div className="flex items-center gap-2 mb-3"><Code className="w-5 h-5 text-blue-400"/><span className="text-white">SaaS Work</span></div>
      <textarea value={saas} onChange={e => setSaas(e.target.value)} onBlur={() => { const nd = { ...data, saas }; setData(nd); save(nd); }} placeholder="What did you work on today?" className="w-full h-20 p-3 bg-slate-700 rounded-lg text-white mb-3" />
      <div className="grid grid-cols-2 gap-3">
        <input type="number" step="0.5" value={deepWork} onChange={e => setDeepWork(e.target.value)} onBlur={() => { const nd = { ...data, deepWork }; setData(nd); save(nd); }} placeholder="Deep work hrs" className="p-3 bg-slate-700 rounded-lg text-white" />
        <input type="number" value={talks} onChange={e => setTalks(e.target.value)} onBlur={() => { const nd = { ...data, talks }; setData(nd); save(nd); }} placeholder="User talks" className="p-3 bg-slate-700 rounded-lg text-white" />
      </div>
    </div>

    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h3 className="text-white mb-3">Non-Negotiables</h3>
      {tasks.core.map(t => (
        <div key={t.id} onClick={() => toggle(t.id)} className={`p-3 rounded-lg mb-2 cursor-pointer ${data.done.includes(t.id) ? 'bg-green-900 border-2 border-green-500' : 'bg-slate-700'}`}>
          <div className="flex items-center justify-between">
            <span className="text-white text-sm">{t.t}</span>
            {data.done.includes(t.id) && <Check className="w-5 h-5 text-green-400"/>}
          </div>
        </div>
      ))}
    </div>

    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h3 className="text-white mb-3">Leadership (Do 1+)</h3>
      {tasks.lead.map(t => (
        <div key={t.id} onClick={() => toggle(t.id)} className={`p-3 rounded-lg mb-2 cursor-pointer ${data.done.includes(t.id) ? 'bg-amber-900 border-2 border-amber-500' : 'bg-slate-700'}`}>
          <div className="flex items-center justify-between">
            <span className="text-white text-sm">{t.t}</span>
            {data.done.includes(t.id) && <Check className="w-5 h-5 text-amber-400"/>}
          </div>
        </div>
      ))}
    </div>

    <div className="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h3 className="text-white mb-3">Communication</h3>
      {tasks.comm.map(t => (
        <div key={t.id} onClick={() => toggle(t.id)} className={`p-3 rounded-lg mb-2 cursor-pointer ${data.done.includes(t.id) ? 'bg-purple-900 border-2 border-purple-500' : 'bg-slate-700'}`}>
          <div className="flex items-center justify-between">
            <span className="text-white text-sm">{t.t}</span>
            {data.done.includes(t.id) && <Check className="w-5 h-5 text-purple-400"/>}
          </div>
        </div>
      ))}
    </div>

    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
      <div className="flex items-center gap-2 mb-3"><Book className="w-5 h-5 text-gray-400"/><span className="text-white">Reflection</span></div>
      <textarea value={journal} onChange={e => setJournal(e.target.value)} onBlur={() => { const nd = { ...data, journal }; setData(nd); save(nd); }} placeholder="What did I lead? What did I ship? How did I show up?" className="w-full h-32 p-3 bg-slate-700 rounded-lg text-white" />
    </div>
  </div>
</div>
```

);
};

export default VitaApp;
